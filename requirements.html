<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Требования - system-engineering-playbook</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="src/_assets/custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">system-engineering-playbook</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="3-Требования"><a class="header" href="#3-Требования">3. Требования</a></h2>
<h3 id="31-stakeholder-requirements"><a class="header" href="#31-stakeholder-requirements">3.1 Stakeholder requirements</a></h3>
<ol>
<li>
<p><strong>SR-SH-1 (Инициатор — прозрачность и скорость)</strong><br />
1.1. Система должна позволять Инициатору создавать документ, загружать файл, заполнять реквизиты и запускать его по маршруту согласования так, чтобы Инициатор в любой момент видел актуальный статус прохождения и получал уведомления о ключевых событиях (согласование, отказ, подпись).</p>
</li>
<li>
<p><strong>SR-SH-2 (Согласующий — удобство принятия решений)</strong><br />
2.1. Система должна предоставлять Согласующему задачу с полной информацией (документ, история версий, комментарии предыдущих участников), чтобы он мог принять решение (согласовать, отклонить, делегировать) без обращения к сторонним системам.</p>
</li>
<li>
<p><strong>SR-SH-3 (Юрист — контроль версий и правки)</strong><br />
3.1. Система должна обеспечивать Юристу возможность загружать отредактированную версию документа с сохранением предыдущих версий, чтобы все участники маршрута видели, что именно было изменено.</p>
</li>
<li>
<p><strong>SR-SH-4 (Бухгалтер — проверка лимитов и реквизитов)</strong><br />
4.1. Система должна предоставлять Бухгалтеру информацию о бюджетных лимитах и реквизитах контрагента при обработке заявки на оплату, чтобы минимизировать ошибки и задержки при финансовых операциях.</p>
</li>
<li>
<p><strong>SR-SH-5 (Администратор — управляемость и мониторинг)</strong><br />
5.1. Система должна позволять Администратору настраивать маршруты, шаблоны, права доступа и просматривать журнал аудита, чтобы обеспечивать корректную работу платформы и оперативно реагировать на инциденты.</p>
</li>
<li>
<p><strong>SR-SH-6 (Контрагент — юридически значимый обмен)</strong><br />
6.1. Система должна обеспечивать обмен документами с Контрагентом через оператора ЭДО с поддержкой встречной КЭП, чтобы обе стороны получали юридически значимые экземпляры.</p>
</li>
<li>
<p><strong>SR-SH-7 (Все роли — непрерывность работы)</strong><br />
7.1. Система должна продолжать функционировать при недоступности внешних систем (AD/LDAP, ERP, криптопровайдер, ЭДО) в режиме деградации с последующей синхронизацией, чтобы пользователи не теряли возможность выполнять критичные операции.</p>
</li>
<li>
<p><strong>SR-SH-8 (Все роли — мобильный доступ)</strong><br />
8.1. Система должна поддерживать работу с мобильных устройств (просмотр, согласование, подписание УНЭП), чтобы сотрудники могли обрабатывать срочные задачи вне офиса.</p>
</li>
<li>
<p><strong>SR-SH-9 (Менеджмент — контроль сроков)</strong><br />
9.1. Система должна контролировать сроки согласования (SLA) и автоматически эскалировать просроченные задачи, чтобы документы не «зависали» на промежуточных этапах.</p>
</li>
<li>
<p><strong>SR-SH-10 (Юрист / Регулятор — юридическая значимость)</strong><br />
10.1. Система должна формировать неизменяемый аудиторский след по каждому документу, чтобы в случае спора или проверки можно было восстановить полную картину событий и подтвердить подлинность подписей.</p>
</li>
<li>
<p><strong>SR-SH-11 (Все роли — коллегиальное согласование)</strong><br />
11.1. Система должна поддерживать параллельное согласование несколькими участниками с агрегацией результатов (голосование), чтобы стратегические документы проходили одобрение всех заинтересованных руководителей.</p>
</li>
<li>
<p><strong>SR-SH-12 (Бизнес — долгосрочное хранение)</strong><br />
12.1. Система должна обеспечивать передачу завершённых дел в долговременный архив с сохранением подписей и метаданных, чтобы выполнять требования ФЗ-125 (хранение 5+ лет).</p>
</li>
</ol>
<hr />
<h3 id="32-system-requirements"><a class="header" href="#32-system-requirements">3.2 System requirements</a></h3>
<h4 id="Аутентификация-и-авторизация"><a class="header" href="#Аутентификация-и-авторизация">Аутентификация и авторизация</a></h4>
<ol>
<li>
<p><strong>SR-SYS-1 (Сценарий 1–5: аутентификация через AD/LDAP)</strong><br />
1.1. Модуль аутентификации (SSO) должен при входе пользователя отправлять запрос на проверку учётных данных в корпоративный каталог (AD/LDAP) и при успешном ответе выдавать токен сессии, содержащий: ID пользователя, список ролей, список групп, время истечения.<br />
1.2. <strong>Верификация:</strong> интеграционный тест (вход → проверка полей токена).</p>
</li>
<li>
<p><strong>SR-SYS-2 (Сценарий 1–5: деградация аутентификации)</strong><br />
2.1. При недоступности корпоративного каталога (AD/LDAP) система должна: (а) продолжать обслуживать пользователей с действующим токеном; (б) предоставлять Администратору интерфейс ручной аутентификации с фиксацией в журнале аудита записи «Резервная аутентификация».<br />
2.2. <strong>Верификация:</strong> функциональный тест (отключение AD → проверка обоих сценариев).</p>
</li>
<li>
<p><strong>SR-SYS-3 (Сценарий 1–5: управление правами доступа)</strong><br />
3.1. Система должна предоставлять Администратору интерфейс управления RBAC (ролевой доступ): создание ролей, назначение разрешений (создание документа, согласование, подписание, просмотр аудита, настройка маршрутов), привязка ролей к пользователям.<br />
3.2. <strong>Верификация:</strong> функциональный тест (создание роли → назначение → проверка доступа).</p>
</li>
</ol>
<h4 id="Создание-и-маршрутизация-документов-Сценарий-1"><a class="header" href="#Создание-и-маршрутизация-документов-Сценарий-1">Создание и маршрутизация документов (Сценарий 1)</a></h4>
<ol start="4">
<li>
<p><strong>SR-SYS-4 (Сценарий 1: создание карточки документа)</strong><br />
4.1. Система должна предоставлять Инициатору возможность создать карточку документа с атрибутами: тип документа, контрагент, сумма, предмет, статья расходов, загруженный файл (Версия 1), и присвоить карточке уникальный ID и временную метку создания.<br />
4.2. <strong>Верификация:</strong> функциональный тест (создание карточки → проверка полей в БД).</p>
</li>
<li>
<p><strong>SR-SYS-5 (Сценарий 1: определение маршрута)</strong><br />
5.1. После создания карточки Маршрутизатор должен обратиться к Справочнику оргструктуры, определить последовательность согласования (по типу документа и настроенному шаблону маршрута) и сформировать первую задачу на указанную роль.<br />
5.2. <strong>Верификация:</strong> функциональный тест (создание договора → проверка: задача создана на роль «Юрист»).</p>
</li>
<li>
<p><strong>SR-SYS-6 (Сценарий 1: уведомление участника)</strong><br />
6.1. При формировании задачи на согласование система должна отправить уведомление адресату через Сервис уведомлений (Email и/или Push) с указанием: ID документа, тип, имя инициатора, крайний срок (SLA).<br />
6.2. <strong>Верификация:</strong> интеграционный тест (задача создана → уведомление доставлено → проверка содержимого).</p>
</li>
<li>
<p><strong>SR-SYS-7 (Сценарий 1: загрузка новой версии)</strong><br />
7.1. Система должна позволять участнику маршрута (Юрист, Согласующий) загрузить новую версию файла с текстовым комментарием. Репозиторий документов должен сохранить файл, его хеш (SHA-256), номер версии и связь с карточкой.<br />
7.2. <strong>Верификация:</strong> функциональный тест (загрузка версии → проверка: файл, хеш, номер версии в хранилище).</p>
</li>
<li>
<p><strong>SR-SYS-8 (Сценарий 1: просмотр разницы версий)</strong><br />
8.1. Система должна предоставлять участнику маршрута возможность просмотреть список всех версий документа с атрибутами: номер версии, автор, дата, комментарий, хеш, и скачать любую из них.<br />
8.2. <strong>Верификация:</strong> функциональный тест (загрузка 2 версий → проверка отображения списка).</p>
</li>
<li>
<p><strong>SR-SYS-9 (Сценарий 1: согласование и переход по маршруту)</strong><br />
9.1. При нажатии «Согласовано» система должна зафиксировать визу (ID пользователя, временная метка, решение) в журнале аудита и автоматически передать задачу следующему участнику маршрута.<br />
9.2. <strong>Верификация:</strong> функциональный тест (виза Юриста → задача у Согласующего).</p>
</li>
<li>
<p><strong>SR-SYS-10 (Сценарий 1: отклонение и возврат на доработку)</strong><br />
10.1. При нажатии «Отклонить» система должна потребовать текстовый комментарий с причиной, зафиксировать отказ в журнале аудита, перевести документ в статус «Доработка» и вернуть задачу Инициатору.<br />
10.2. <strong>Верификация:</strong> функциональный тест (отклонение → статус «Доработка» → задача у Инициатора).</p>
</li>
<li>
<p><strong>SR-SYS-11 (Сценарий 1: обнаружение конфликта версий)</strong><br />
11.1. Если с момента открытия задачи текущим участником другой участник загрузил новую версию файла, при попытке согласовать или загрузить свою версию система должна отобразить предупреждение о конфликте версий и заблокировать операцию до разрешения конфликта.<br />
11.2. <strong>Верификация:</strong> функциональный тест (параллельная загрузка 2 версий → предупреждение).</p>
</li>
</ol>
<h4 id="Электронная-подпись-Сценарий-1-2"><a class="header" href="#Электронная-подпись-Сценарий-1-2">Электронная подпись (Сценарий 1, 2)</a></h4>
<ol start="12">
<li>
<p><strong>SR-SYS-12 (Сценарий 1: наложение КЭП)</strong><br />
12.1. При подписании документа Модуль КЭП/УНЭП должен: (а) вычислить хеш подписываемого файла; (б) отправить хеш в криптопровайдер; (в) получить подписанный хеш и штамп времени (TSP); (г) сохранить подпись в карточке документа; (д) записать в журнал аудита: ID подписанта, хеш, серийный номер сертификата, временную метку.<br />
12.2. <strong>Верификация:</strong> интеграционный тест (подписание → проверка хеша, штампа, записи аудита).</p>
</li>
<li>
<p><strong>SR-SYS-13 (Сценарий 1: проверка сертификата перед подписанием)</strong><br />
13.1. Перед подписанием система должна проверить статус сертификата через OCSP-запрос к криптопровайдеру. Если сертификат отозван или истёк — заблокировать кнопку «Подписать» и предложить перевыпуск или делегирование.<br />
13.2. <strong>Верификация:</strong> функциональный тест (отозванный сертификат → кнопка заблокирована).</p>
</li>
<li>
<p><strong>SR-SYS-14 (Сценарий 1, 2: деградация подписи)</strong><br />
14.1. При недоступности криптопровайдера система должна перевести документ в статус «Ожидание подписи (оффлайн)», разрешить проставление внутренней визы без юридической силы и поставить документ в очередь на подписание при восстановлении.<br />
14.2. <strong>Верификация:</strong> функциональный тест (отключение криптопровайдера → статус, виза, очередь).</p>
</li>
</ol>
<h4 id="Обмен-с-контрагентом-через-ЭДО-Сценарий-1"><a class="header" href="#Обмен-с-контрагентом-через-ЭДО-Сценарий-1">Обмен с контрагентом через ЭДО (Сценарий 1)</a></h4>
<ol start="15">
<li>
<p><strong>SR-SYS-15 (Сценарий 1: отправка документа контрагенту)</strong><br />
15.1. После подписания КЭП всеми внутренними участниками Модуль ЭДО должен отправить документ контрагенту через внешнего оператора ЭДО и зафиксировать в журнале аудита факт отправки и квитанцию оператора.<br />
15.2. <strong>Верификация:</strong> интеграционный тест (подписание → отправка → квитанция в аудите).</p>
</li>
<li>
<p><strong>SR-SYS-16 (Сценарий 1: приём встречной подписи и протокола разногласий)</strong><br />
16.1. При получении от оператора ЭДО подписанного контрагентом документа система должна проверить КЭП контрагента (OCSP), сохранить экземпляр, уведомить Инициатора. При получении протокола разногласий — вернуть задачу Инициатору/Юристу с комментариями контрагента.<br />
16.2. <strong>Верификация:</strong> интеграционный тест (входящий документ → проверка КЭП → уведомление).</p>
</li>
</ol>
<h4 id="Мобильное-согласование-Сценарий-2"><a class="header" href="#Мобильное-согласование-Сценарий-2">Мобильное согласование (Сценарий 2)</a></h4>
<ol start="17">
<li>
<p><strong>SR-SYS-17 (Сценарий 2: согласование с мобильного устройства)</strong><br />
17.1. Система должна предоставлять мобильный интерфейс (приложение или адаптивная веб-версия), позволяющий Согласующему: просматривать документ (PDF), выбирать решение (согласовать / отклонить), подписывать УНЭП (через SMS-код).<br />
17.2. <strong>Верификация:</strong> функциональный тест на мобильном устройстве.</p>
</li>
<li>
<p><strong>SR-SYS-18 (Сценарий 2: оффлайн-режим мобильного приложения)</strong><br />
18.1. При отсутствии сетевого соединения мобильное приложение должно сохранять решение пользователя локально и синхронизировать с сервером при восстановлении связи с пометкой в аудите «Подписано в оффлайн-режиме» и фактическим временем решения.<br />
18.2. <strong>Верификация:</strong> функциональный тест (оффлайн → решение → восстановление → проверка аудита).</p>
</li>
<li>
<p><strong>SR-SYS-19 (Сценарий 2: отложенная подпись КЭП)</strong><br />
19.1. Если документ требует КЭП, а на мобильном устройстве сертификат отсутствует, система должна перевести задачу в статус «Ожидает подпись с ПК» с указанием срока (по умолчанию 24 часа) и отправить напоминание.<br />
19.2. <strong>Верификация:</strong> функциональный тест (мобильное → нет КЭП → статус → напоминание).</p>
</li>
</ol>
<h4 id="Заявка-на-оплату-и-контроль-лимитов-Сценарий-3"><a class="header" href="#Заявка-на-оплату-и-контроль-лимитов-Сценарий-3">Заявка на оплату и контроль лимитов (Сценарий 3)</a></h4>
<ol start="20">
<li>
<p><strong>SR-SYS-20 (Сценарий 3: автоматическая проверка лимитов)</strong><br />
20.1. При создании заявки на оплату система должна автоматически запросить у ERP: остаток бюджета по статье расходов, лимит договора, статус контрагента. Если остаток &gt;= сумма заявки и контрагент активен — направить задачу Бухгалтеру. Иначе — заблокировать отправку.<br />
20.2. <strong>Верификация:</strong> функциональный тест (заявка в лимите → задача бухгалтеру; сверх лимита → блокировка).</p>
</li>
<li>
<p><strong>SR-SYS-21 (Сценарий 3: эскалация при превышении лимита)</strong><br />
21.1. При превышении бюджетного лимита Маршрутизатор должен через Справочник оргструктуры найти вышестоящего руководителя или финансового директора и добавить его в цепочку согласования. Заявка переходит в статус «Ожидание бюджета».<br />
21.2. <strong>Верификация:</strong> функциональный тест (превышение → задача у финдиректора → статус).</p>
</li>
<li>
<p><strong>SR-SYS-22 (Сценарий 3: деградация при недоступности ERP)</strong><br />
22.1. При недоступности ERP система должна: (а) отобразить Бухгалтеру пометку «Проверить лимиты вручную»; (б) предоставить чекбокс «Лимит подтверждён вручную»; (в) при активации чекбокса зафиксировать в аудите: ID бухгалтера, временная метка, пометка «Ручной ввод, ERP недоступна».<br />
22.2. <strong>Верификация:</strong> функциональный тест (отключение ERP → пометка → чекбокс → запись аудита).</p>
</li>
<li>
<p><strong>SR-SYS-23 (Сценарий 3: блокировка при отсутствии контрагента)</strong><br />
23.1. Если ERP возвращает «контрагент не найден», система должна заблокировать отправку заявки бухгалтеру и уведомить Инициатора с требованием завести контрагента в ERP/CRM.<br />
23.2. <strong>Верификация:</strong> функциональный тест (контрагент отсутствует → блокировка → уведомление).</p>
</li>
</ol>
<h4 id="Коллегиальное-согласование-Сценарий-4"><a class="header" href="#Коллегиальное-согласование-Сценарий-4">Коллегиальное согласование (Сценарий 4)</a></h4>
<ol start="24">
<li>
<p><strong>SR-SYS-24 (Сценарий 4: параллельная рассылка задач)</strong><br />
24.1. При запуске параллельного маршрута Маршрутизатор должен одновременно создать задачи для всех указанных Согласующих (по ролям из Справочника оргструктуры) и отправить каждому уведомление.<br />
24.2. <strong>Верификация:</strong> функциональный тест (запуск → проверка: N задач создано одновременно).</p>
</li>
<li>
<p><strong>SR-SYS-25 (Сценарий 4: агрегация голосов)</strong><br />
25.1. Система должна принимать голоса («За» / «Против» / «Воздержался» / «За, с замечаниями»), агрегировать их по настроенному правилу (единогласно, большинство, кворум) и по достижении результата уведомить Инициатора с протоколом: решение каждого участника, комментарии, итог.<br />
25.2. <strong>Верификация:</strong> функциональный тест (3 голоса → агрегация → проверка итога по правилу).</p>
</li>
<li>
<p><strong>SR-SYS-26 (Сценарий 4: тайм-аут и политика молчания)</strong><br />
26.1. Если к дедлайну SLA не все участники проголосовали, система должна применить настроенную политику: «Молчание — знак согласия» (голос не подавших = «За») или «Решение по кворуму» (учитываются только поданные голоса). Результат фиксируется в аудите с пометкой «Применена политика тайм-аута».<br />
26.2. <strong>Верификация:</strong> функциональный тест (2 из 3 голосов + тайм-аут → проверка результата и записи аудита).</p>
</li>
</ol>
<h4 id="Контроль-сроков-и-уведомления-Сценарий-14"><a class="header" href="#Контроль-сроков-и-уведомления-Сценарий-14">Контроль сроков и уведомления (Сценарий 1–4)</a></h4>
<ol start="27">
<li>
<p><strong>SR-SYS-27 (Сценарий 1–4: напоминания SLA)</strong><br />
27.1. Если задача не обработана за N% от установленного срока SLA (настраивается Администратором), система должна отправить напоминание адресату. При полном истечении SLA — отправить эскалацию вышестоящему руководителю (из Справочника оргструктуры).<br />
27.2. <strong>Верификация:</strong> функциональный тест (задача просрочена → напоминание → эскалация).</p>
</li>
<li>
<p><strong>SR-SYS-28 (Сценарий 1–4: делегирование заместителю)</strong><br />
28.1. Согласующий должен иметь возможность делегировать задачу заместителю. Система должна проверить замещение через Справочник оргструктуры, переназначить задачу и зафиксировать делегирование в аудите.<br />
28.2. <strong>Верификация:</strong> функциональный тест (делегирование → задача у заместителя → запись аудита).</p>
</li>
</ol>
<h4 id="Аудит-и-архивация-Сценарий-5"><a class="header" href="#Аудит-и-архивация-Сценарий-5">Аудит и архивация (Сценарий 5)</a></h4>
<ol start="29">
<li>
<p><strong>SR-SYS-29 (Сценарий 5: неизменяемый журнал аудита)</strong><br />
29.1. Каждое значимое действие (создание, загрузка версии, виза, подпись, отправка через ЭДО, изменение статуса) должно фиксироваться в Журнале аудита с атрибутами: ID события, ID пользователя, временная метка, IP-адрес, тип действия, хеш файла (если применимо). Записи должны быть связаны криптографической цепочкой (каждая запись содержит хеш предыдущей).<br />
29.2. <strong>Верификация:</strong> инспекция архитектуры + функциональный тест (серия действий → проверка цепочки хешей).</p>
</li>
<li>
<p><strong>SR-SYS-30 (Сценарий 5: экспорт акта аудита)</strong><br />
30.1. Система должна предоставлять Юристу/Администратору возможность экспортировать акт аудита по конкретному документу в формате PDF с системной печатью платформы, содержащий: полную ленту событий, хеши файлов, данные подписей.<br />
30.2. <strong>Верификация:</strong> функциональный тест (экспорт → проверка содержимого PDF).</p>
</li>
<li>
<p><strong>SR-SYS-31 (Сценарий 5: проверка подписи при просмотре)</strong><br />
31.1. При открытии подписанного документа система должна автоматически проверить статус сертификата подписанта через OCSP на момент подписания (по сохранённой метке времени TSP) и отобразить результат: «Подпись действительна» или «Подпись недействительна» с указанием причины.<br />
31.2. <strong>Верификация:</strong> функциональный тест (документ с отозванным после подписания сертификатом → «действительна»; отозванным до → «недействительна»).</p>
</li>
<li>
<p><strong>SR-SYS-32 (Сценарий 5: передача в долговременный архив)</strong><br />
32.1. После завершения всех согласований и подписаний (включая встречную КЭП контрагента, если применимо) система должна передать завершённое дело в Долговременный архив: файлы всех версий, подписи, метаданные карточки, лента аудита. Статус документа меняется на «Архивирован».<br />
32.2. <strong>Верификация:</strong> интеграционный тест (завершение → проверка данных в архиве → статус).</p>
</li>
<li>
<p><strong>SR-SYS-33 (Сценарий 5: извлечение из архива)</strong><br />
33.1. Система должна предоставлять Юристу/Администратору возможность запросить документ из Долговременного архива по ID карточки и получить все файлы, подписи и метаданные.<br />
33.2. <strong>Верификация:</strong> функциональный тест (запрос архивированного документа → получение).</p>
</li>
</ol>
<h4 id="Справочник-оргструктуры-Сценарий-14"><a class="header" href="#Справочник-оргструктуры-Сценарий-14">Справочник оргструктуры (Сценарий 1–4)</a></h4>
<ol start="34">
<li>
<p><strong>SR-SYS-34 (Сценарий 1–4: синхронизация оргструктуры)</strong><br />
34.1. Справочник оргструктуры должен периодически (настраиваемый интервал, по умолчанию 1 раз в сутки) синхронизироваться с HR-системой и обновлять данные: сотрудники, роли, иерархия, замещения.<br />
34.2. <strong>Верификация:</strong> интеграционный тест (изменение в HR → синхронизация → проверка справочника).</p>
</li>
<li>
<p><strong>SR-SYS-35 (Сценарий 1–4: деградация при недоступности HR-системы)</strong><br />
35.1. При недоступности HR-системы Маршрутизатор должен использовать последнюю кэшированную версию Справочника оргструктуры и назначать задачи по ролям (не по конкретным ФИО). При восстановлении — автоматическая синхронизация.<br />
35.2. <strong>Верификация:</strong> функциональный тест (отключение HR → маршрутизация по кэшу → восстановление → синхронизация).</p>
</li>
</ol>
<hr />
<h3 id="33-nfr--качество-с-метриками"><a class="header" href="#33-nfr--качество-с-метриками">3.3 NFR / качество с метриками</a></h3>
<h4 id="Методика-измерения-sla-для-данного-проекта"><a class="header" href="#Методика-измерения-sla-для-данного-проекта">Методика измерения SLA для данного проекта</a></h4>
<p>Во всех NFR-требованиях ниже используются следующие понятия и правила измерения:</p>
<p><strong>SLA (Service Level Agreement)</strong> — набор измеримых показателей качества работы платформы, по которым ежемесячно формируется SLA-отчёт. В рамках данного проекта SLA включает:</p>
<ul>
<li><strong>Доступность (Availability)</strong> — доля времени, в течение которого функция платформы принимает и корректно обрабатывает запросы пользователей. Измеряется как:</li>
</ul>
<p><code>Availability = (T_рабочее − T_простоя) / T_рабочее × 100%</code></p>
<p>где <code>T_рабочее</code> — суммарное рабочее время за календарный месяц (пн–пт, 08:00–20:00 MSK), <code>T_простоя</code> — суммарное время, когда функция не отвечала или отвечала с ошибкой. <strong>Плановые окна обслуживания</strong> (согласованные заранее) исключаются из <code>T_простоя</code>, но включаются в <code>T_рабочее</code> только если выходят за согласованный лимит.</p>
<ul>
<li>
<p><strong>Время отклика (Response Time)</strong> — интервал от момента отправки запроса пользователем (нажатие кнопки в интерфейсе) до момента отображения результата (успех/ошибка). Измеряется на стороне сервера приложений (без учёта задержки сети клиента). Указывается в виде <strong>перцентиля</strong>: p95 означает, что 95% запросов укладываются в заданный порог.</p>
</li>
<li>
<p><strong>Перцентиль (pN)</strong> — значение метрики, ниже которого находится N% всех измерений за отчётный период (месяц). Например, p95 = 2 с означает, что 95 из 100 запросов обработаны быстрее 2 секунд.</p>
</li>
<li>
<p><strong>Нагрузочный профиль</strong> — если в NFR указано «при нагрузке до N одновременных пользователей», подразумевается, что N пользователей одновременно выполняют типичные операции (создание документа, согласование, просмотр). Моделируется при нагрузочном тестировании.</p>
</li>
<li>
<p><strong>RPO (Recovery Point Objective)</strong> — максимально допустимый объём потерянных данных, выраженный во времени. RPO = 15 минут означает, что при аварии могут быть потеряны данные, введённые не более чем за последние 15 минут.</p>
</li>
<li>
<p><strong>RTO (Recovery Time Objective)</strong> — максимально допустимое время от момента аварии до полного возобновления работы платформы.</p>
</li>
<li>
<p><strong>Отчётный период</strong> — календарный месяц. SLA-отчёт формируется автоматически на основе логов платформы и включает: доступность по каждой критичной функции, распределение времени отклика (p50, p95, p99), количество и длительность инцидентов, использованное время плановых окон.</p>
</li>
</ul>
<hr />
<ol>
<li>
<p><strong>NFR-1 (Производительность: отклик при создании/отправке документа)</strong><br />
1.1. При создании карточки документа и отправке на маршрут система должна отображать результат операции (успех/ошибка) с временем отклика <strong>≤ 2 секунд</strong> в <strong>p95</strong> при нагрузке до <strong>200 одновременных активных пользователей</strong>.<br />
1.2. <strong>Верификация:</strong> нагрузочное тестирование (замер p95).</p>
</li>
<li>
<p><strong>NFR-2 (Производительность: наложение подписи КЭП)</strong><br />
2.1. Операция наложения КЭП (от нажатия кнопки до отображения результата) должна завершаться за <strong>≤ 5 секунд</strong> в <strong>p95</strong>, включая обращение к криптопровайдеру (OCSP + TSP).<br />
2.2. <strong>Верификация:</strong> нагрузочное тестирование (замер p95 при 50 параллельных подписаниях).</p>
</li>
<li>
<p><strong>NFR-3 (Доступность: основные операции)</strong><br />
3.1. Функции создания документа, согласования и подписания должны быть доступны с коэффициентом <strong>≥ 99,5%</strong> в рабочие часы (08:00–20:00 MSK, пн–пт), исключая плановые окна обслуживания <strong>не более 4 часов в месяц</strong>.<br />
3.2. <strong>Верификация:</strong> SLA-отчёт (анализ логов за календарный месяц).</p>
</li>
<li>
<p><strong>NFR-4 (Доступность: переключение в режим деградации)</strong><br />
4.1. При недоступности любой одной внешней системы (AD/LDAP, ERP, криптопровайдер, оператор ЭДО, HR-система, шлюз уведомлений) платформа должна переключиться в fallback-режим за <strong>≤ 30 секунд</strong> от момента обнаружения сбоя и продолжать обслуживать операции, не зависящие от этой системы.<br />
4.2. <strong>Верификация:</strong> тест отказоустойчивости (отключение внешней системы → замер времени переключения).</p>
</li>
<li>
<p><strong>NFR-5 (Безопасность: целостность журнала аудита)</strong><br />
5.1. Журнал аудита должен обеспечивать обнаружение любой модификации или удаления записей. Записи связаны криптографической цепочкой (хеш каждой записи включает хеш предыдущей). Время обнаружения нарушения целостности — <strong>≤ 1 минута</strong> с момента модификации.<br />
5.2. <strong>Верификация:</strong> тест безопасности (прямая модификация записи в БД → проверка обнаружения и алерта).</p>
</li>
<li>
<p><strong>NFR-6 (Безопасность: шифрование данных)</strong><br />
6.1. Все данные должны передаваться между компонентами платформы и внешними системами по шифрованному каналу (<strong>TLS 1.2+</strong>). Файлы документов и подписи в хранилище должны быть зашифрованы в состоянии покоя (<strong>AES-256</strong> или аналог).<br />
6.2. <strong>Верификация:</strong> инспекция конфигурации + тест перехвата трафика (отсутствие данных в открытом виде).</p>
</li>
<li>
<p><strong>NFR-7 (Масштабируемость: пользователи и документы)</strong><br />
7.1. Система должна поддерживать <strong>до 500 одновременных пользователей</strong> и хранение <strong>до 1 000 000 карточек документов</strong> с суммарным объёмом файлов <strong>до 5 ТБ</strong> без деградации производительности ниже порогов NFR-1 и NFR-2.<br />
7.2. <strong>Верификация:</strong> нагрузочное тестирование на целевых объёмах данных.</p>
</li>
<li>
<p><strong>NFR-8 (Восстановление: RPO и RTO)</strong><br />
8.1. Целевая точка восстановления: <strong>RPO ≤ 15 минут</strong>. Целевое время восстановления: <strong>RTO ≤ 1 час</strong>.<br />
8.2. <strong>Верификация:</strong> тест аварийного восстановления (имитация отказа → замер фактических RPO и RTO).</p>
</li>
<li>
<p><strong>NFR-9 (Удобство: время обучения нового пользователя)</strong><br />
9.1. Новый сотрудник с ролью «Инициатор» должен быть способен самостоятельно создать документ и отправить на маршрут после обучения <strong>не более 30 минут</strong> (инструкция + 2 тренировочных документа).<br />
9.2. <strong>Верификация:</strong> юзабилити-тест (группа из 5 новых пользователей, замер времени до успешного выполнения задания).</p>
</li>
<li>
<p><strong>NFR-10 (Совместимость: браузеры и устройства)</strong><br />
10.1. Веб-интерфейс должен корректно работать в браузерах: <strong>Chrome 100+</strong>, <strong>Firefox 100+</strong>, <strong>Яндекс.Браузер 22+</strong>, <strong>Edge 100+</strong>. Мобильный интерфейс — на устройствах с <strong>Android 10+</strong> и <strong>iOS 15+</strong>, разрешение экрана от <strong>360×640 px</strong>.<br />
10.2. <strong>Верификация:</strong> кроссбраузерное тестирование + тестирование на мобильных устройствах.</p>
</li>
<li>
<p><strong>NFR-11 (Архивация: передача дел в долговременный архив)</strong><br />
11.1. Платформа должна обеспечивать автоматическую передачу завершённого дела (файлы, подписи, метаданные, лента аудита) в Долговременный архив в течение <strong>≤ 24 часов</strong> после перехода документа в финальный статус. Передача должна завершаться с подтверждением: квитанция от архива с ID дела и контрольной суммой.<br />
11.2. Платформа не является системой долговременного хранения. Ответственность за обеспечение сроков хранения (5+ лет, ФЗ-125) несёт внешний Долговременный архив. Платформа обязана передать полный комплект данных и зафиксировать факт передачи в журнале аудита.<br />
11.3. <strong>Верификация:</strong> интеграционный тест (завершение дела → замер времени до квитанции архива → проверка комплектности переданных данных).</p>
</li>
<li>
<p><strong>NFR-12 (Производительность: доставка уведомлений)</strong><br />
12.1. Сервис уведомлений должен передать Email-уведомление на Шлюз уведомлений с задержкой <strong>≤ 60 секунд</strong> в <strong>p95</strong> от момента события в платформе. Push-уведомления — <strong>≤ 10 секунд</strong> в <strong>p95</strong>. Метрика измеряется от записи события до подтверждения приёма шлюзом (далее доставка зависит от внешнего шлюза).<br />
12.2. <strong>Верификация:</strong> нагрузочное тестирование (замер задержки от события до подтверждения приёма шлюзом).</p>
</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="conops.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="architecture.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="conops.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="architecture.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
